### Salesforce Marketing Cloud - Data Extension REST API Examples

# GET Data Extension Data (Retrieve all rows)

GET {{base_url}}/data/v1/customobjectdata/key/{{dataExtensionKey}}/rowset?$pageSize=3000&page=1
Authorization: Bearer {{access_token}}
Content-Type: application/json

###

# GET Data Extension Data (With Filter)

GET {{base_url}}/data/v1/customobjectdata/key/{{dataExtensionKey}}/rowset?$filter=Email%20eq%20'{{email}}'
Authorization: Bearer {{access_token}}
Content-Type: application/json

###

# POST Data Extension - Single Row (Create)

POST {{base_url}}/hub/v1/dataevents/key:{{dataExtensionKey}}/rowset
Authorization: Bearer {{access_token}}
Content-Type: application/json

[
  {
    "keys": {
      "Email": "subscriber@example.com"
    },
    "values": {
      "FirstName": "John",
      "LastName": "Doe",
      "UpdatedDate": "2024-12-20",
      "Status": "Active"
    }
  }
]

###

# POST Data Extension - Multiple Rows (Batch Insert)

POST {{base_url}}/hub/v1/dataevents/key:{{dataExtensionKey}}/rowset
Authorization: Bearer {{access_token}}
Content-Type: application/json

[
  {
    "keys": {
      "Email": "subscriber1@example.com"
    },
    "values": {
      "FirstName": "John",
      "LastName": "Doe",
      "UpdatedDate": "2024-12-20",
      "Status": "Active"
    }
  },
  {
    "keys": {
      "Email": "subscriber2@example.com"
    },
    "values": {
      "FirstName": "Jane",
      "LastName": "Smith",
      "UpdatedDate": "2024-12-20",
      "Status": "Active"
    }
  }
]

###

# PATCH Data Extension - Update Single Row

PATCH {{base_url}}/hub/v1/dataevents/key:{{dataExtensionKey}}/rowset
Authorization: Bearer {{access_token}}
Content-Type: application/json

[
  {
    "keys": {
      "Email": "subscriber@example.com"
    },
    "values": {
      "UpdatedDate": "2024-12-20",
      "Status": "Inactive"
    }
  }
]

###

# PATCH Data Extension - Upsert (Update or Insert)

PATCH {{base_url}}/hub/v1/dataevents/key:{{dataExtensionKey}}/rowset?_upsert=true
Authorization: Bearer {{access_token}}
Content-Type: application/json

[
  {
    "keys": {
      "Email": "subscriber@example.com"
    },
    "values": {
      "FirstName": "Updated",
      "LastName": "Name",
      "UpdatedDate": "2024-12-20"
    }
  }
]

###

# DELETE Data Extension - Single Row

DELETE {{base_url}}/hub/v1/dataevents/key:{{dataExtensionKey}}/rows/subscriber@example.com
Authorization: Bearer {{access_token}}
Content-Type: application/json

###

# GET Data Extension - Single Row by Key

GET {{base_url}}/hub/v1/dataevents/key:{{dataExtensionKey}}/rows/subscriber@example.com
Authorization: Bearer {{access_token}}
Content-Type: application/json

###

# Data Extension Response Examples

# GET Response - Success (200 OK)
# {
#   "requestId": "12345678-1234-1234-1234-123456789012",
#   "responses": [
#     {
#       "statusCode": 200,
#       "messageId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
#     }
#   ]
# }

# POST Response - Success (201 Created)
# {
#   "requestId": "12345678-1234-1234-1234-123456789012",
#   "statusCode": 201,
#   "responses": [
#     {
#       "statusCode": 200,
#       "messageId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
#     }
#   ]
# }

# Error Response - Invalid Key (400 Bad Request)
# {
#   "errorCode": 400,
#   "message": "Invalid Data Extension Key",
#   "documentation": "https://..."
# }
